<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">  
      <ion-menu-button color="dark"></ion-menu-button>   
    </ion-buttons> 
    <ion-buttons slot="end" id="helpicon">
      <ion-button [routerLink]="['help','edit-user-profile']" color="dark"><ion-icon name="help-outline"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>Edit User Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col sizeLg="4" sizeMd="4" sizeSm="3" sizeXs="0" class="spacer"></ion-col>
      <ion-col sizeLg="4" sizeMd="4" sizeSm="6" sizeXs="12">
        <div class="profile-card">
          <ion-grid>
            <ion-row>
              <ion-col>
                
                <div class="profile-card-img">
                  <ion-img (click)="fileInput.click()" class="image" [src]="this.userService.ProfilePicture"></ion-img>
                  <ion-icon class="image-icon" name="images-outline"></ion-icon>
                </div>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                
                  <div class="content">
                    <!-- <div class="name">
                      <ion-label>{{this.userService.Firstname + " " + this.userService.Lastname}}</ion-label>
                    </div> -->
                    
                    <div *ngIf="this.userService.userRole == 'client'" class="text">
                      Company
                    </div>
                
              
                  <form [formGroup]="profileForm">
                    <ion-list>
                      <ion-item>
                        <ion-label>Full Name</ion-label>
                        <ion-input  type="text" formControlName="firstname"></ion-input>
                        <ion-input  type="text" formControlName="lastname"></ion-input>
                      </ion-item>
                      <br>
          <div *ngIf="profileForm.get('firstname').invalid && (profileForm.get('firstname').dirty || profileForm.get('firstname').touched)"class="alert alert-danger">
            <label id="errortext">First Name may only contain letters</label>
          </div>
          <br>
          <br>
          <div *ngIf="profileForm.get('lastname').invalid && (profileForm.get('lastname').dirty || profileForm.get('lastname').touched)"class="alert alert-danger">
            <label id="errortext">Last Name may only contain letters</label>
          </div>
          <br>
                      <ion-item>
                        <ion-label>Phone Number</ion-label>
                        <ion-input  type="text" formControlName="phoneNumber"></ion-input>
                      </ion-item>
                      <br>
                      <div *ngIf="profileForm.get('phoneNumber').invalid && (profileForm.get('phoneNumber').dirty || profileForm.get('phoneNumber').touched)"class="alert alert-danger">
                        <label id="errortext">Phone Number may inly contain numbers and have a lenght of 10</label>
                      </div>
                      <br>
                      <ion-item>
                        <ion-label>Email Address</ion-label>
                        <ion-input  type="email" formControlName="email"></ion-input>
                      </ion-item>
                      <br>
                      <div *ngIf="profileForm.get('email').invalid && (profileForm.get('email').dirty || profileForm.get('email').touched)"class="alert alert-danger">
                        <label id="errortext">A valid email consist of a @ symbol as well as end address such as .com</label>
                      </div>
                      <br>
                    </ion-list>
                    <ion-button color="success" type="submit" (click)="editAlert()">Save</ion-button>
                    <ion-button color="danger" type="submit" (click)="deactivateAlert()">Deactivate</ion-button>
                    <ion-button  href="admin/user" >Cancel</ion-button>
                    <input #fileInput  class="file-input" type="file" (change)="uploadProfilePicture($event)">
                  </form>
      
      
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
      </ion-col>
      <ion-col sizeLg="4" sizeMd="4" sizeSm="3" sizeXs="0" class="spacer"></ion-col>
    </ion-row>
  </ion-grid>


  </ion-content>
  
